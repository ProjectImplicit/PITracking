<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="css/custom-theme/jquery-ui-1.10.0.custom.css" rel="stylesheet">
<link rel="stylesheet" href="js/tablesorter/themes/blue/style.css" type="text/css" id="" media="print, projection, screen" />
<link type="text/css" rel="stylesheet" href="css/jquery.dropdown.css" />
<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="js/jquery-ui-1.10.3.custom.min.js"></script>
<script src="js/jquery.csvToTable.js"></script>
<script type="text/javascript" src="js/tablesorter/jquery.tablesorter.js"></script> 
<script type="text/javascript" src="js/jquery.dropdown.js"></script>
<title>PI stats</title>

<style>
.inline{
	display: inline-block;
}
input[type=text]{
	width:120px;
}
.container{
	margin-top:50px;
	margin-left:8%;
	margin-right:8%;
	
	
	
}

.ui-icon{
	display:inline-block;
	margin-left:2px;
}
#instruct1{
	
	font-family: "Times New Roman";
	width:65%;
	margin-bottom: 35px;
	display:none;

}
#instruct2{
	
	margin-top:15px;
	margin-bottom:20px;
}
#collapse{
	width:107px;
	height:22px;
	margin-left:0.6%;
	line-height:auto;
	padding: 2px 10px 15px 10px;
	border-radius: 7px;
	/*margin-left:36%;*/
}
.ui-tooltip {
  background: white;
  color: blue;
  max-height: 0.8px;
  font-size: 12px;
 padding:10px;
  
}

.tooltip{
	padding:10px;
	margin-bottom: 10px;
}
#download{
	width:120px;
	height:22px;
	line-height:auto;
	padding: 2px 10px 15px 10px;
}
</style>

<script src="js/app.js"></script>
</head>


<body>
	
<div class="container">
	<!--<div id="instruct1">
		<font color="DarkGray">Select Demo or Research studies. If you select Research, select &quot;Current&quot; for studies using PI's participant pool right now, &quot;History&quot; for any study that has ever used PI&rsquo;s participant pool, and &quot;Any&quot; for any research study regardless of whether it has ever used PI&rsquo;s participant pool.</font>
		
	</div>!-->
	
	<div>
		<button class="ui-button-primary" id="dbButton" data-dropdown="#dropdown-2" id="buttonDB">Research <i class="icon-caret-down" style="margin-left:10px;"></i></button>
		<button class="ui-button-primary "  id="buttonStudies" data-dropdown="#dropdown-1">Current <i class="icon-caret-down" ></i></button>
		
		<button id="submit" onclick="submit()" class="ui-button-success" style="margin-left:10px;">Submit</button>
		<div style="margin-left:28%;display:inline">
			<i id="historyLeft" style="color:#3333CC;" class="fa fa-caret-square-o-left" title="backward"></i>
			<i id="historyRight" style="color:#3333CC;margin-left:4px;" class="fa fa-caret-square-o-right" title="forward"></i>
		</div>
		
		<button id="collapse" class="ui-button-primary" >Instructions <i class="icon-sort-down"></i></button>
	 
	<div>
	
	
	
	<div id="instruct1" >
		<font color="DarkGray">Choose whether you want participation data from the demo site, the research site, or both. You can also choose &quot;current&quot; (to get participation data from those studies that are in the pool right now), &quot;history&quot; (to get data from studies that have ever been in the research pool), or &quot;any&quot; (to get data from all research studies, regardless of whether or not they have ever been in the pool).</br></br>
 
		Enter the study id or any part of the study id (the study name that that appears in an .expt file). Note that the study id search feature is case-sensitive. If you leave this box blank you will get data from all studies within your specified time period.</br></br>
 
		You can also enter a task name or part of a task name (e.g., realstart) if you only want participation data from certain tasks. You can also choose how you want the data displayed. If you click &quot;Study&quot;, you will see data from any study that meets your search criteria. If you also check &quot;Task&quot; you will see data from any study that meets your search criteria separated out by task. The &quot;Data Group&quot; option will allow you to see whether a given study is coming from the demo or research site.</br></br>

		You can define how completion rate is calculated by setting &quot;start&quot; and &quot;completed&quot;. Only studies that visited those tasks would be used in the calculation.</font>
	</div>	
	<!--
	<div id="instruct2">
		<font color="DarkGray">Enter the study id or any part of the study id. You can also enter the task name (or a part of the task name) if you want to see only specific tasks.</font>
	</div> !-->
	</br>
	
	<div >

		<span style="font-style:italic;">Read by: </span></br>
			<div style="margin-top:8px;">
				<div id="enterStudy"  class="inline" style="padding-right:10px;">
					<label>Study Name: </label>
					<input id="studyI" type="text" id="studyName"></input>
				</div>
				<div id="enterStudy"  class="inline" style="padding-right:10px;">
					<label>Task Name: </label>
					<input id="filterI" type="text" id="taskName"></input>
				</div>
				<div id="enterStudy"  class="inline" style="padding-right:10px;">
					<label>Since: </label>
					<input id="sinceI" type="text" style="margin-left:39px;"></input><i id="sinceIcon" class="icon-calendar" style="margin-left:5px;"></i> 
				</div>
				<div id="enterStudy"  class="inline" style="padding-right:10px;">
					<label>Until: </label>
					<input id="untilI" type="text" id="until" type="text" ></input><i id="untilIcon"  class="icon-calendar" style="margin-left:5px;"></i>
				</div>
			</div>
	<div>
	
	<span id="view" style="position:relative;left:-40px;top:4px;">
			
				<div style="display:inline-block;">
					<ul style="list-style-type: none;">
    					<li><span style="font-style:italic;">Show by (or combination of those): </span></li>
    					<!--<li><label>(or combination of those)</label></li>!-->
    					
  					</ul>
  				</div>
  			
  				<div style="display:inline-block;padding:10px;margin-left:20px;margin-top:-10px;">
					<input id="studyC" type="checkbox" name="sports" value="soccer" style="margin-left:10px;"/> Study
					<input id="taskC" type="checkbox" name="sports" value="soccer" style="margin-left:13px;" /> Task
					<input id="dataC" type="checkbox" name="sports" value="soccer" style="margin-left:13px;" /> Data Group
					<input id="timeC" type="checkbox" name="sports" value="soccer" style="margin-left:13px;" /> Time
					<div id="timeTable" style="display:inline-block;border:1px solid;padding:10px;">
						 <input id="dayC" type="checkbox" name="sports" value="soccer"  />D
						 <input id="weekC" type="checkbox" name="sports" value="soccer"  />W
						 <input id="monthC" type="checkbox" name="sports" value="soccer"  />M
						 <input id="yearC" type="checkbox" name="sports" value="soccer"  />Y

					</div>
				</div>

		</span>
		
	<div style="margin-top:12px;">
		<div style="display:inline;">
			<span style="font-style:italic;">Compute completion:  </span>
		</div>
		
		<div id="enterStarted"  class="inline" style="margin-left:80px;">
			<label>First Task: </label>
			<input id="taskI" type="text" style="margin-left:8px;"></input>
			<label style="margin-left:10px;">Last Task: </label>
			<input id="completedI" type="text" style="margin-left:8px;"></input>
		</div>
		
	</div>		
		
		<div style="margin-top:17px;">
			<span style="font-style:italic;">More options: </span>
			<div style="display:inline">
				
					
				
				<div style="margin-top:2px;display: inline;"><input id="zero" type="checkbox" name="sports" value="soccer"  />Hide Rows with Zero Started Sessions</div>
				<button id="download" onclick="download()" class="ui-button-primary ui-btn-sm" style="margin-left:10px; display:inline;">Download CSV</button>
				</br>
			</div>
		</div>
		

	<hr width="70%" align="left" style="margin-top:17px;"><!-- hr line ! -->

	
	<p>
		<div id="alert"class="ui-widget" style="display: none;width:82%;">
		    <div class="ui-state-default ui-corner-all">
		        <p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
		             No data match your request.</p>
		    </div>
		</div>
		<img id="gif" src="img/loading.gif"  style="display:none;margin-left:40%;">
		<!--<div class="progress progress-striped">
  			<div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
    			<span class="sr-only">0% Complete</span>
  			</div>
		</div>!-->
		<div id="CSVTable" style="width:82%"></div>
	</p>

</div>	

	


<div id="dropdown-1" class="dropdown dropdown-tip">
    <ul class="dropdown-menu" id="uldrop1">
        <li id="currentLi"><a href="#1">Current</a></li>
        <li id="HistoryLi"><a href="#2">History</a></li>
        <li id="AllLi"><a href="#3">Any</a></li>
    </ul>
</div>
<div id="dropdown-2" class="dropdown dropdown-tip">
    <ul class="dropdown-menu" id="uldrop2">
        <li id="DemoLi"><a href="#1">Demo</a></li>
        <li id="ResearchLi"><a href="#2">Research</a></li>
        <li id="BothLi"><a href="#3">Both</a></li>
    </ul>
</div>
<div id="dialog" title="Long search warning">
        <p><font size=2>This might take a while. Are you sure you do not want to enter any conditions to limit your search?</font></p>

</div>
<div id="dialog2" title="Study Name">
        <p><font size=2>Please provide study name to restrict your search</font></p>

</div>
<div id="downloadDialog" title="File Name">
        <p>
        	<font size=2>Please Provide File Name: </font>&nbsp&nbsp
        	<input id="downloadI" type="text" value=""></input>
        </p>

</div>
<div id="dialog3" title="Study Name Missing">
        <p><font size=2>Please Provide Since/Until Date</font></p>
</div>
<div id="cpanel" title="Control Panel">
        <p><font size=2>Study List Provider: </font>
	        <select id="provider">
	  			<option value="path">Path</option>
	  			<option value="url">URL</option>
	  			<option value="back">Backend</option>
			</select>
			&nbsp&nbsp
			<font size=2>Caching: </font>
			<select id="refresh">
	  			<option value="no">No Caching</option>
	  			<option value="1">1</option>
			</select></br></br>
			<font size=2>URL for Current Studies: </font>
			<input id="curl" type="text" value="" style="width:400px;"> </input></br>
			<font size=2>URL for History Studies: </font>
			<input id="hurl" type="text" value="" style="width:400px;"></input></br>
			<font size=2>Path for Current Studies: </font>		
			<input id="cpath" type="text" value="" style="width:400px;"></input></br>
			<font size=2>Path for History Studies: </font>		
			<input id="hpath" type="text" value="" style="width:400px;"></input>

		</p>
		<p>
			<font size=2>Connect to: </font></br>			
			<select  id="connect">
				<option value="test">Test</option>
				<option value="oldwarehouse">Old warehouse</option>
				<option value="newwarehouse">New warehouse</option>

			</select>
		</p>
		<p>
			<font size=2>Use Threads: </font></br>			
			<select  id="threads">
				<option value="yes">Yes</option>
				<option value="no">no</option>
			</select><br/>
			Number of Threads: <input id="threadsNum" type="text" value="3" style="width:200px;"> </input></br>
			BaseURL: <input id="baseURL" type="text" value="" style="width:400px;"> </input></br>


</div>
<script type="text/javascript" src="js/FileSaver.js"></script>
</body>


</html>